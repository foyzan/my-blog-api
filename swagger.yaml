openapi: 3.1.0
info:
  version: 1.0.0
  title: My blogAPI
  description: This is a very simple and minimalistic blog api for posting articles and get comment from users
servers:
- url: http://localhost:4000/api/v1
  description: dev serve
tags:
- name: Auth
  description: Authentication Endpoints
- name: Article
  description: "Article Endpoints (public, private)"
- name: Comment
  description: Comment Endpoints (private)
- name: User
  description: User Management Endpoints (Admin only)
- name: Profile
  description: "Profile Endpoints (public, private)"
- name: Test
  description: Test Endpoints
paths:
  /test:
    get:
      tags:
      - Test
      description: Test endpoint to verify API is running
      responses:
        "200":
          description: Test successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    examples:
                    - Hello
  /auth/register:
    post:
      tags:
      - Auth
      description: Create a new account of User
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - name
              - username
              - email
              - password
              properties:
                name:
                  type: string
                  examples:
                  - kamal khan chowdhury
                username:
                  type: string
                  examples:
                  - KamalUnreal
                email:
                  type: string
                  format: email
                  examples:
                  - info@kamal.com
                password:
                  type: string
                  format: password
                  examples:
                  - "efeT23!kj)"
      responses:
        "201":
          description: registration successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 201
                  message:
                    type: string
                    examples:
                    - registration successful
                  data:
                    type: object
                    required:
                     - access_token
                    properties:
                      access_token:
                        type: string
                        examples:
                          - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkZveXphbiBBaG1lZCIsImVtYWlsIjoiaW5mb0Bmb3l6YW4uY29tIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /auth/register
                      login:
                        type: string
                        examples:
                        - /auth/login
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 400
                  error:
                    type: string
                    examples:
                    - Bad request
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          examples:
                          - email
                        message:
                          type: string
                          examples:
                          - invalid email
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 500
                  error:
                    type: string
                    examples:
                    - Internal Server Error
                  message:
                    type: string
                    examples:
                    - We are sorry for the inconvenience. Please try again
  /auth/login:
    post:
      tags:
      - Auth
      description: login to account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - email
              - password
              properties:
                email:
                  type: string
                  format: email
                  examples:
                  - stuart.sipes31@gmail.com
                password:
                  type: string
                  format: password
                  examples:
                  - password123
      responses:
        "200":
          description: Signin successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 200
                  message:
                    type: string
                    examples:
                    - Login successful
                  data:
                    type: object
                    properties:
                      access_token:
                        type: string
                        examples:
                        - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkZveXphbiBBaG1lZCIsImVtYWlsIjoiaW5mb0Bmb3l6YW4uY29tIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /auth/login
                      register:
                        type: string
                        examples:
                        - /auth/register
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 400
                  error:
                    type: string
                    examples:
                    - Bad request
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          examples:
                          - email
                        message:
                          type: string
                          examples:
                          - invalid email
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 500
                  error:
                    type: string
                    examples:
                    - Internal Server Error
                  message:
                    type: string
                    examples:
                    - We are sorry for the inconvenience. Please try again
  /articles:
    get:
      tags:
      - Article
      description: get all the articles
      parameters:
      - name: page
        in: query
        description: current page number
        schema:
          type: integer
          format: int32
          default: 1
      - name: limit
        in: query
        description: page limits
        schema:
          type: integer
          format: int32
          default: 10
      - name: sort_type
        in: query
        schema:
          type: string
          enum:
          - asc
          - dsc
          default: dsc
      - name: sort_by
        in: query
        description: ""
        schema:
          type: string
          enum:
          - updatedAt
          - title
          default: updatedAt
      - $ref: '#/components/parameters/searchTermParam'
      responses:
        "200":
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      allOf:
                      - type: object
                        required:
                        - id
                        - title
                        - author
                        properties:
                          id:
                            type: string
                            examples:
                            - '6585xe74seq454ax26975'
                          title:
                            type: string
                            examples:
                            - Article title
                          cover:
                            type: string
                            format: url
                            examples:
                            - https://s3.aws.com/myblogapi/cover/artcle1.png
                          author:
                            type: object
                            required:
                            - id
                            - name
                            properties:
                              id:
                                type: string
                                examples:
                                - '6585xe74seq454ax26975'
                              name:
                                type: string
                                examples:
                                - Raybrin Max
                          link:
                            type: string
                            format: url
                            examples:
                            - /articles/1
                      - type: object
                        properties:
                          createdAt:
                            type: string
                            format: date-time
                          updatedAt:
                            type: string
                            format: date-time
                  pagination:
                    type: object
                    required:
                    - page
                    - limit
                    - next
                    - prev
                    - totalPage
                    - totalItems
                    properties:
                      page:
                        type: integer
                        format: int32
                        examples:
                        - 2
                      limit:
                        type: integer
                        format: int32
                        examples:
                        - 10
                      next:
                        type: integer
                        format: int32
                        examples:
                        - 3
                      prev:
                        type: integer
                        format: int32
                        examples:
                        - 1
                      totalPage:
                        type: integer
                        format: int32
                        examples:
                        - 5
                      totalItems:
                        type: integer
                        format: int32
                        examples:
                        - 50
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples:
                        - /articles?page=2&limit=10
                      next:
                        type: string
                        format: url
                        examples:
                        - /articles?page=3&limit=10
                      prev:
                        type: string
                        format: url
                        examples:
                        - /articles?page=1&limit=10
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 400
                  error:
                    type: string
                    examples:
                    - Bad request
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          examples:
                          - email
                        message:
                          type: string
                          examples:
                          - invalid email
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 500
                  error:
                    type: string
                    examples:
                    - Internal Server Error
                  message:
                    type: string
                    examples:
                    - We are sorry for the inconvenience. Please try again
    post:
      security:
      - bearerauth: []
      tags:
      - Article
      description: create an article
      requestBody:
        description: User must provide valid data
        content:
          application/json:
            schema:
              type: object
              required:
              - title
              - body
              properties:
                title:
                  type: string
                  examples:
                  - how to start passive income
                body:
                  type: string
                  format: text
                  examples:
                  - this is the body of article
                cover:
                  type: string
                  format: url
                  examples:
                  - https://s3.aws.com/myblogapi/cover/artcle1.png
                status:
                  type: string
                  enum:
                  - draft
                  - published
                  default: draft
      responses:
        "201":
          description: successfully create an article
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    examples:
                    - article created
                  data:
                    allOf:
                    - type: object
                      required:
                      - title
                      - body
                      properties:
                        title:
                          type: string
                          examples:
                          - how to start passive income
                        body:
                          type: string
                          format: text
                          examples:
                          - this is the body of article
                        cover:
                          type: string
                          format: url
                          examples:
                          - https://s3.aws.com/myblogapi/cover/artcle1.png
                        status:
                          type: string
                          enum:
                          - draft
                          - published
                          default: draft
                    - type: object
                      properties:
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples:
                        - /article/01
                      author:
                        type: string
                        format: url
                        examples:
                        - /article/01/author
                      comment:
                        type: string
                        format: url
                        examples:
                        - /article/01/comment
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 400
                  error:
                    type: string
                    examples:
                    - Bad request
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          examples:
                          - email
                        message:
                          type: string
                          examples:
                          - invalid email
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 401
                  error:
                    type: string
                    examples:
                    - Unauthorized request
                  message:
                    type: string
                    examples:
                    - You don't have the permission
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 500
                  error:
                    type: string
                    examples:
                    - Internal Server Error
                  message:
                    type: string
                    examples:
                    - We are sorry for the inconvenience. Please try again
  /articles/{id}:
    get:
      tags:
      - Article
      description: Fetch a single article by ID
      parameters:
      - name: id
        required: true
        in: path
        description: article ID
        schema:
          type: string
          examples:
          - 125455
      - name: expand
        in: query
        description: to expand related data
        schema:
          type: string
          enum:
          - author
          - comment
          examples:
          - author
      responses:
        "200":
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    allOf:
                    - type: object
                      required:
                      - title
                      - body
                      properties:
                        title:
                          type: string
                          examples:
                          - how to start passive income
                        body:
                          type: string
                          format: text
                          examples:
                          - this is the body of article
                        cover:
                          type: string
                          format: url
                          examples:
                          - https://s3.aws.com/myblogapi/cover/artcle1.png
                        status:
                          type: string
                          enum:
                          - draft
                          - published
                          default: draft
                    - type: object
                      properties:
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                    - type: object
                      properties:
                        author:
                          type: object
                          required:
                          - id
                          - name
                          properties:
                            id:
                              type: string
                              examples:
                              - '6585xe74seq454ax26975'
                            name:
                              type: string
                              examples:
                              - Raybrin Max
                  comments:
                          type: array
                          items:
                            allOf:
                            - type: object
                              required:
                              - title
                              - body
                              properties:
                                id:
                                  type: string
                                  examples:
                                  - '6585xe74seq454ax26975'
                                postId:
                                  type: string
                                  examples:
                                  - '6585xe74seq454ax26975'
                                authorId:
                                  type: string
                                  examples:
                                  - '6585xe74seq454ax26975'
                                body:
                                  type: string
                                  format: text
                                  examples:
                                  - this is the body of comments
                                status:
                                  type: string
                                  enum:
                                  - public
                                  - private
                                  default: public
                            - type: object
                              properties:
                                createdAt:
                                  type: string
                                  format: date-time
                                updatedAt:
                                  type: string
                                  format: date-time  
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /articles/1
                      author:
                        type: string
                        examples:
                        - /articles/1/author
                      comment:
                        type: string
                        examples:
                        - /articles/1/comments
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 400
                  error:
                    type: string
                    examples:
                    - Bad request
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          examples:
                          - email
                        message:
                          type: string
                          examples:
                          - invalid email
        "404":
          description: Resource Not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 404
                  error:
                    type: string
                    examples:
                    - Not Found
                  message:
                    type: string
                    examples:
                    - Request resource not found
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 500
                  error:
                    type: string
                    examples:
                    - Internal Server Error
                  message:
                    type: string
                    examples:
                    - We are sorry for the inconvenience. Please try again
    put:
      security:
      - bearerauth: []
      tags:
      - Article
      description: create or update entire article
      parameters:
      - name: id
        required: true
        in: path
        description: authorId
        schema:
          type: string
          examples:
          - 125455
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - title
              - body
              properties:
                title:
                  type: string
                  examples:
                  - how to start passive income
                body:
                  type: string
                  format: text
                  examples:
                  - this is the body of article
                cover:
                  type: string
                  format: url
                  examples:
                  - https://s3.aws.com/myblogapi/cover/artcle1.png
                status:
                  type: string
                  enum:
                  - draft
                  - published
                  default: draft
      responses:
        "200":
          description: successfully updated
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 200
                  message:
                    type: string
                    examples:
                    -  successfully updated
                  data:
                    allOf:
                    - type: object
                      required:
                      - title
                      - body
                      properties:
                        title:
                          type: string
                          examples:
                          - how to start passive income
                        body:
                          type: string
                          format: text
                          examples:
                          - this is the body of article
                        cover:
                          type: string
                          format: url
                          examples:
                          - https://s3.aws.com/myblogapi/cover/artcle1.png
                        status:
                          type: string
                          enum:
                          - draft
                          - published
                          default: draft
                    - type: object
                      properties:
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /articles/1
        "201":
          description: successfully Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 201
                  message:
                    type: string
                    examples:
                    - successfully created
                  data:
                    allOf:
                    - type: object
                      required:
                      - title
                      - body
                      properties:
                        title:
                          type: string
                          examples:
                          - how to start passive income
                        body:
                          type: string
                          format: text
                          examples:
                          - this is the body of article
                        cover:
                          type: string
                          format: url
                          examples:
                          - https://s3.aws.com/myblogapi/cover/artcle1.png
                        status:
                          type: string
                          enum:
                          - draft
                          - published
                          default: draft
                    - type: object
                      properties:
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /articles/1
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 400
                  error:
                    type: string
                    examples:
                    - Bad request
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          examples:
                          - email
                        message:
                          type: string
                          examples:
                          - invalid email
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 401
                  error:
                    type: string
                    examples:
                    - Unauthorized request
                  message:
                    type: string
                    examples:
                    - You don't have the permission
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 500
                  error:
                    type: string
                    examples:
                    - Internal Server Error
                  message:
                    type: string
                    examples:
                    - We are sorry for the inconvenience. Please try again
    patch:
      security:
      - bearerauth: []
      tags:
      - Article
      description: update existing properties of an article
      parameters:
      - name: id
        required: true
        in: path
        description: authorId
        schema:
          type: string
          examples:
          - 125455
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  examples:
                  - how to start passive income
                body:
                  type: string
                  format: text
                  examples:
                  - this is the body of article
                cover:
                  type: string
                  format: url
                  examples:
                  - https://s3.aws.com/myblogapi/cover/artcle1.png
                status:
                  type: string
                  enum:
                  - draft
                  - published
                  default: draft
      responses:
        "200":
          description: successfully updated
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 200
                  message:
                    type: string
                    examples:
                    - Article successfully updated
                  data:
                    allOf:
                    - type: object
                      properties:
                        title:
                          type: string
                          examples:
                          - how to start passive income
                        body:
                          type: string
                          format: text
                          examples:
                          - this is the body of article
                        cover:
                          type: string
                          format: url
                          examples:
                          - https://s3.aws.com/myblogapi/cover/artcle1.png
                        status:
                          type: string
                          enum:
                          - draft
                          - published
                          default: draft
                    - type: object
                      properties:
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /articles/1
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 400
                  error:
                    type: string
                    examples:
                    - Bad request
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          examples:
                          - email
                        message:
                          type: string
                          examples:
                          - invalid email
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 401
                  error:
                    type: string
                    examples:
                    - Unauthorized request
                  message:
                    type: string
                    examples:
                    - You don't have the permission
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 500
                  error:
                    type: string
                    examples:
                    - Internal Server Error
                  message:
                    type: string
                    examples:
                    - We are sorry for the inconvenience. Please try again
    delete:
      security: 
        - bearerauth: []
      tags: 
        - Article
      description: delete an article
      parameters: 
        - $ref: '#/components/parameters/idPathParam'
      responses: 
        '204':
          description: Article deleted successfully
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /articles/{id}/comments:
    get:
      tags: ['Article']
      description: get all the comment of particular article
      parameters:
        - $ref: '#/components/parameters/idPathParam'
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/sort_typeParam'
        -   name: sort_by
            in: query
            description: ""
            schema:
              type: string
              enum:
              - updatedAt
              - body
              default: updatedAt
        - $ref: '#/components/parameters/searchTermParam'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      allOf:
                        - type: object
                          required:
                            - id
                            - body
                          properties:
                            id: {type: string, examples: ['6585xe74seq454ax26975']}
                            body: {type: string, format: text, examples: ['Excellent remark']}
                            author: 
                              $ref: '#/components/schemas/AuthorDTO'
                            links:
                              type: string
                              format: url
                              examples:
                                - /comments/1
                        - $ref : '#/components/schemas/Timestamp'
                  pagination:
                    $ref: '#/components/schemas/pagination'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples: 
                          - "/comments?page=2&limit=10"
                      next:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=3&limit=10"
                      prev:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=1&limit=10"
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
    post:
      security:
        - bearerauth: []
      tags: [Article]
      description: comment on a particular article
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      requestBody:
        description: user must provide valid data
        content:
          application/json:
            schema: 
              type: object
              properties:
                body: {type: string, examples: ['Great article']}
      responses:
        '201':
          description: successfully created a comment
          content:
            application/json:
              schema:
                type: object
                properties:
                  message: 
                    type: string
                    examples: ['comment created']
                  data:
                    allOf:
                      - type: object
                        properties:
                          id : {type: string, examples: ['6585xe74seq454ax26975']}
                      - $ref: '#/components/schemas/CommentSchema'
                      - $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples:
                          - /comments/01
                      author:
                        type: string
                        format: url
                        examples:
                          - '/profile/6585xe74seq454ax26975'
                      
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
  /articles/{id}/author:
    get:
      tags: [Article]
      description: get the author info of an article
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  message: { type: string, examples: ['successful']}
                  code: {type: integer, format: int32, default: 200}
                  data:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/AuthorDTO'
                      - type: object
                        properties:
                          username:
                            type: string
                            example: 'zenCode'
                          email:
                            type: string
                            format: email
                            example: 'example@kamal.com'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples:
                          - /articles/01/author
                      article:
                        type: string
                        format: url
                        examples:
                          - /article/01 
  /comments:
    get:
      security:
        - bearerauth: []
      tags:
        - Comment
      description: if client is Admin then return all the comments or User then all comments of user in this portal
      parameters:
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/sort_byParam'
        - $ref: '#/components/parameters/searchTermParam'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      allOf:
                        - type: object
                          required:
                            - id
                            - body
                          properties:
                            id: {type: string, examples: ['6585xe74seq454ax26975']}
                            body: {type: string, format: text, examples: ['Excellent remark']}
                            author: 
                              $ref: '#/components/schemas/AuthorDTO'
                            links:
                              type: string
                              format: url
                              examples:
                                - /comments/1
                        - $ref : '#/components/schemas/Timestamp'
                  pagination:
                    $ref: '#/components/schemas/pagination'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples: 
                          - "/comments?page=2&limit=10"
                      next:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=3&limit=10"
                      prev:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=1&limit=10"
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
    post:
      security:
        - bearerauth: []
      tags:
        - Comment
      description: create a comment
      requestBody:
        description: user must provide valid data
        content:
          application/json:
            schema: 
              type: object
              properties:
                body: {type: string, examples: ['this is a great article']}
                article: {type: string, example: '6585xe74seq454ax26975'}
            
      responses:
        '201':
          description: successfully created a comment
          content:
            application/json:
              schema:
                type: object
                properties:
                  message: 
                    type: string
                    examples: ['comment created']
                  data:
                    allOf:
                      - type: object
                        properties:
                          id : {type: string, examples: ['6585xe74seq454ax26975']}
                      - $ref: '#/components/schemas/CommentSchema'
                      - $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples:
                          - /comments/01
                      author:
                        type: string
                        format: url
                        examples:
                          - /comments/01/author
                      comment:
                        type: string
                        format: url
                        examples:
                          - /comments/01/comment
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
  /comments/{id}:
    get:
      security:
        - bearerauth: []
      tags: ['Comment']
      description: get a particular comment 
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  message: {type: string, examples: ['successful']}
                  data: 
                    allOf:
                      - type: object
                        properties:
                          id : {type: string, examples: ['6585xe74seq454ax26975']}
                          body : {type: string, examples: ['this is a great discussion']}
                          author: 
                            $ref: '#/components/schemas/AuthorDTO'
                          article: {type: string, examples: ['6585xe74seq454ax26975']}
                      -  $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self: {type: string, examples: ['/comments/6585xe74seq454ax26975']}
                      author: {type: string, examples: ['/profile/6585xe74seq454ax26975']}
                      article: {type: string, examples: ['/articles/6585xe74seq454ax26975']}
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
    patch:
      security:
        - bearerauth: []
      tags: ['Comment']
      description: update a comments
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                body: {type: string, format: text, examples: ['this was not the case']}
                status: {type: string, enum: ['public', 'private'], examples: ['private']}
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  message: {type: string, examples: ['successful']}
                  data: 
                    allOf:
                      - type: object
                        properties:
                          id : {type: string, examples: ['6585xe74seq454ax26975']}
                          body : {type: string, examples: ['this is a great discussion']}
                          author: 
                            $ref: '#/components/schemas/AuthorDTO'
                          article: {type: string, examples: ['6585xe74seq454ax26975']}
                      -  $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self: {type: string, examples: ['/comments/6585xe74seq454ax26975']}
                      author: {type: string, examples: ['/profile/6585xe74seq454ax26975']}
                      article: {type: string, examples: ['/articles/6585xe74seq454ax26975']}
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
    delete:
      security:
        - bearerauth: []
      tags: ['Comment']
      description: delete a particular comment
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      responses: 
        '204':
          description: Article deleted successfully
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'      
  
  /users:
    get:
      security:
        - bearerauth: []
      tags: ['User']
      description: this will return all the user in portal. only for admin
      parameters:
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/sort_byParam'
        - $ref: '#/components/parameters/searchTermParam'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema: 
                type: object
                properties:
                  code: {type: integer, format: int32, default: 200}
                  message: {type: string, examples: ['successful']}
                  data: 
                    type: array
                    items:
                      allOf:
                        - type: object
                          properties:
                            name:
                              type: string
                              examples:
                              - kamal khan chowdhury
                            username:
                              type: string
                              examples:
                              - KamalUnreal
                            email:
                              type: string
                              format: email
                              examples:
                              - info@kamal.com
                            status:
                              type: string
                              enum: ["pending", "approved", "blocked", "decline"]
                              examples: ['pending']
                            role:
                              type: string
                              enum: ["user", "admin"]
                              default: 'user'
                        - $ref: '#/components/schemas/Timestamp'
                  pagination:
                        $ref: '#/components/schemas/pagination'
                  links:
                      type: object
                      properties:
                        self:
                          type: string
                          format: url
                          examples: 
                            - "/users?page=2&limit=10"
                        next:
                          type: string
                          format: url
                          examples:
                            - "/users?page=3&limit=10"
                        prev:
                          type: string
                          format: url
                          examples:
                            - "/users?page=1&limit=10"
        '400':
          $ref: "#/components/responses/400"
        '404':
          $ref: "#/components/responses/404"
    post:
      security:
        - bearerauth: []
      tags: ['User']
      description: this for create an new user
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserSignup'
      responses:
        "201":
          description: registration successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 201
                  message:
                    type: string
                    examples:
                    - registration successful
                  data:
                    type: object
                    required:
                     - access_token
                    properties:
                      access_token:
                        type: string
                        examples:
                          - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkZveXphbiBBaG1lZCIsImVtYWlsIjoiaW5mb0Bmb3l6YW4uY29tIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
        "400":
          $ref: '#/components/responses/400'
        "500":
          $ref: '#/components/responses/500'
  /users/{id}:
    get:
      security:
        - bearerauth: []
      tags: ['User']
      description: get a particular User
      parameters:
        - $ref: '#/components/parameters/idPathParam'
        - name: expand
          in: query
          description: to expand related data
          schema:
            type: string
            enum:
            - article
            - comment
            examples:
            - article
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code : {type: integer, format: int32, default: 200}
                  message: {type: string, examples: ['successful']}
                  data: 
                    allOf:
                      - type: object
                        properties:
                          name:
                            type: string
                            examples:
                            - kamal khan chowdhury
                          username:
                            type: string
                            examples:
                            - KamalUnreal
                          email:
                            type: string
                            format: email
                            examples:
                            - info@kamal.com
                          status:
                            type: string
                            enum: ["pending", "approved", "blocked", "decline"]
                            examples: ['pending']
                          role:
                            type: string
                            enum: ["user", "admin"]
                            default: 'user'
                      - $ref: '#/components/schemas/Timestamp'
                      - type : object
                        properties:
                          comment:
                            type: array
                            items:
                              allOf:
                              - type: object
                                required:
                                  - id
                                  - body
                                properties:
                                  id: {type: string, examples: ['6585xe74seq454ax26975']}
                                  body: {type: string, format: text, examples: ['Excellent remark']}
                                  links:
                                    type: string
                                    format: url
                                    examples:
                                      - /comments/1
                              - $ref : '#/components/schemas/Timestamp' 
                      - type: object
                        properties:
                          article:
                            type: array
                            items:
                              allOf:
                                - type : object
                                  properties:
                                    id: {type : string, examples: ['6585xe74seq454ax26975']}
                                    title:
                                      type: string
                                      examples:
                                      - Article title
                                    link: {type: string, examples: ['/articles/6585xe74seq454ax26975']}
                                - $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /user/1
                      article:
                        type: string
                        examples:
                        - /user/1/articles
                      comment:
                        type: string
                        examples:
                        - /user/1/comments
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
    put:
      security:
        - bearerauth: []
      tags: ['User']
      description: create or update entire user data
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      requestBody:
        content:
          application/json:
            schema: 
             allOf:
               - $ref: '#/components/schemas/UserSignup'
               - type: object
                 properties:
                    status:
                      type: string
                      enum: ["pending", "approved", "blocked", "decline"]
                      default: "approved"
                    role: 
                      type: string
                      enum: ["user", "admin"]
                      default: "admin"
      responses:
        "200":
          description: successfully updated
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 200
                  message:
                    type: string
                    examples:
                    -  successfully updated
                  data:
                    allOf:
                      - $ref: '#/components/schemas/UserSignup'
                      - type: object
                        properties:
                            status:
                              type: string
                              enum: ["pending", "approved", "blocked", "decline"]
                              default: "approved"
                            role: 
                              type: string
                              enum: ["user", "admin"]
                              default: "admin"
                      - $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /user/1
        "201":
          description: successfully Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 201
                  message:
                    type: string
                    examples:
                    - successfully created
                  data:
                    allOf:
                      - $ref: '#/components/schemas/UserSignup'
                      - type: object
                        properties:
                            status:
                              type: string
                              enum: ["pending", "approved", "blocked", "decline"]
                              default: "approved"
                            role: 
                              type: string
                              enum: ["user", "admin"]
                              default: "admin"
                      - $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /user/1
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 400
                  error:
                    type: string
                    examples:
                    - Bad request
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          examples:
                          - email
                        message:
                          type: string
                          examples:
                          - invalid email
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 401
                  error:
                    type: string
                    examples:
                    - Unauthorized request
                  message:
                    type: string
                    examples:
                    - You don't have the permission
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 500
                  error:
                    type: string
                    examples:
                    - Internal Server Error
                  message:
                    type: string
                    examples:
                    - We are sorry for the inconvenience. Please try again
    patch:
      security:
        - bearerauth: []
      tags: ['User']
      description: update existing properties of an article
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      requestBody:
        content:
          application/json:
            schema: 
              allOf:
                - $ref: '#/components/schemas/UserSignup'
                - type: object
                  properties:
                    status:
                      type: string
                      enum: ["pending", "approved", "blocked", "decline"]
                      default: "approved"
                    role: 
                      type: string
                      enum: ["user", "admin"]
                      default: "admin"
      responses:
        "200":
          description: successfully updated
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 200
                  message:
                    type: string
                    examples:
                    - Article successfully updated
                  data:
                    allOf:
                      - $ref: '#/components/schemas/UserSignup'
                      - type: object
                        properties:
                            status:
                              type: string
                              enum: ["pending", "approved", "blocked", "decline"]
                              default: "approved"
                            role: 
                              type: string
                              enum: ["user", "admin"]
                              default: "admin"
                      - $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /user/1
        "400":
          $ref: '#/components/responses/400'
        "401":
          $ref: '#/components/responses/401'
        "500":
          $ref: '#/components/responses/500'
    delete:
      security:
        - bearerauth: []
      tags: ['User']
      description: delete a user By id
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      responses: 
        '204':
          description: Article deleted successfully
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /users/{id}/articles:
    get:
      security:
        - bearerauth: []
      tags: ['User']
      description: get all the articles of a particular user
      parameters:
        - $ref: '#/components/parameters/idPathParam'
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/searchTermParam'
      responses:
        "200":
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code : { type : integer, default: 200}
                  message: {type: string, examples: ['successful']}
                  data: 
                    type: array
                    items:
                      allOf:
                        - type : object
                          properties:
                            id: {type : string, examples: ['6585xe74seq454ax26975']}
                            title:
                              type: string
                              examples:
                              - Article title
                            link: {type: string, examples: ['/articles/6585xe74seq454ax26975']}
                        - $ref: '#/components/schemas/Timestamp'
                  pagination:
                    $ref: '#/components/schemas/pagination'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples: 
                          - "/comments?page=2&limit=10"
                      next:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=3&limit=10"
                      prev:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=1&limit=10"
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
  /users/{id}/comments:
    get:
      security:
        - bearerauth: []
      tags: ['User']
      description: get all the comments of a particular user
      parameters:
        - $ref: '#/components/parameters/idPathParam'
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/searchTermParam'
      responses:
        "200":
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code : { type : integer, default: 200}
                  message: {type: string, examples: ['successful']}
                  data: 
                    type: array
                    items:
                       allOf:
                          - type: object
                            required:
                              - id
                              - body
                            properties:
                              id: {type: string, examples: ['6585xe74seq454ax26975']}
                              body: {type: string, format: text, examples: ['Excellent remark']}
                              links:
                                type: string
                                format: url
                                examples:
                                  - /comments/1
                          - $ref : '#/components/schemas/Timestamp' 
                  pagination:
                    $ref: '#/components/schemas/pagination'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples: 
                          - "/comments?page=2&limit=10"
                      next:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=3&limit=10"
                      prev:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=1&limit=10"
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404' 
  /profile:
    get:
      security:
        - bearerauth: []
      tags: ['Profile']
      description: authenticate user will see their profile
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code : {type: integer, format: int32, default: 200}
                  message: {type: string, examples: ['successful']}
                  data: 
                    allOf:
                      - type: object
                        properties:
                          name:
                            type: string
                            examples:
                            - kamal khan chowdhury
                          username:
                            type: string
                            examples:
                            - KamalUnreal
                          email:
                            type: string
                            format: email
                            examples:
                            - info@kamal.com
                          status:
                            type: string
                            enum: ["pending", "approved", "blocked", "decline"]
                            examples: ['pending']
                          role:
                            type: string
                            enum: ["user", "admin"]
                            default: 'user'
                      - $ref: '#/components/schemas/Timestamp' 
                      - type: object
                        properties:
                          article:
                            type: array
                            items:
                              allOf:
                                - type : object
                                  properties:
                                    id: {type : string, examples: ['6585xe74seq454ax26975']}
                                    title:
                                      type: string
                                      examples:
                                      - Article title
                                    link: {type: string, examples: ['/articles/6585xe74seq454ax26975']}
                                - $ref: '#/components/schemas/Timestamp'
                      - type : object
                        properties:
                          comment:
                            type: array
                            items:
                              allOf:
                              - type: object
                                required:
                                  - id
                                  - body
                                properties:
                                  id: {type: string, examples: ['6585xe74seq454ax26975']}
                                  body: {type: string, format: text, examples: ['Excellent remark']}
                                  links:
                                    type: string
                                    format: url
                                    examples:
                                      - /comments/1
                              - $ref : '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /profile
                      article:
                        type: string
                        examples:
                        - /user/1/articles
                      comment:
                        type: string
                        examples:
                        - /user/1/comments
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
    patch:
      security:
        - bearerauth: []
      tags: ['Profile']
      description: update user profile data
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  examples:
                  - kamal khan chowdhury
                username:
                  type: string
                  examples:
                  - KamalUnreal
                email:
                  type: string
                  format: email
                  examples:
                  - info@kamal.com
      responses:
        "200":
          description: successfully updated
          content:
            application/json:
            
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    examples:
                    - 200
                  message:
                    type: string
                    examples:
                    - Article successfully updated
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                        examples:
                        - kamal khan chowdhury
                      username:
                        type: string
                        examples:
                        - KamalUnreal
                      email:
                        type: string
                        format: email
                        examples:
                        - info@kamal.com
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - /profile
        "400":
          $ref: '#/components/responses/400'
        "401":
          $ref: '#/components/responses/401'
        "500":
          $ref: '#/components/responses/500'
    delete:
      security:
        - bearerauth: []
      tags: ['Profile']
      description: user will delete their profile or account
      responses: 
        '204':
          description: Article deleted successfully
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /profile/{id}:
    get:
      tags: ['Profile']
      description: view an user profile 
      parameters:
        - $ref: '#/components/parameters/idPathParam'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code : {type: integer, format: int32, default: 200}
                  message: {type: string, examples: ['successful']}
                  data: 
                    allOf:
                      - type: object
                        properties:
                          name:
                            type: string
                            examples:
                            - kamal khan chowdhury
                          username:
                            type: string
                            examples:
                            - KamalUnreal
                          email:
                            type: string
                            format: email
                            examples:
                            - info@kamal.com
                      - $ref: '#/components/schemas/Timestamp' 
                      - type: object
                        properties:
                          article:
                            type: array
                            items:
                              allOf:
                                - type : object
                                  properties:
                                    id: {type : string, examples: ['6585xe74seq454ax26975']}
                                    title:
                                      type: string
                                      examples:
                                      - Article title
                                    link: {type: string, examples: ['/articles/6585xe74seq454ax26975']}
                                - $ref: '#/components/schemas/Timestamp'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        examples:
                        - '/profile/6585xe74seq454ax26975'
                      register:
                        type: string
                        examples:
                        - /auth/register
                      login:
                        type: string
                        examples:
                        - /auth/login
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
  /profile/articles:
    get:
      security:
        - bearerauth: []
      tags: ['Profile']
      description: get all the articles of a particular user
      parameters:
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/searchTermParam'
      responses:
        "200":
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code : { type : integer, default: 200}
                  message: {type: string, examples: ['successful']}
                  data: 
                    type: array
                    items:
                      allOf:
                        - type : object
                          properties:
                            id: {type : string, examples: ['6585xe74seq454ax26975']}
                            title:
                              type: string
                              examples:
                              - Article title
                            link: {type: string, examples: ['/articles/6585xe74seq454ax26975']}
                        - $ref: '#/components/schemas/Timestamp'
                  pagination:
                    $ref: '#/components/schemas/pagination'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples: 
                          - "/comments?page=2&limit=10"
                      next:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=3&limit=10"
                      prev:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=1&limit=10"
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
  /profile/comments:
    get:
      security:
        - bearerauth: []
      tags: ['Profile']
      description: get all the comments of a particular user
      parameters:
        - $ref: '#/components/parameters/pageParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/sort_typeParam'
        - $ref: '#/components/parameters/searchTermParam'
      responses:
        "200":
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  code : { type : integer, default: 200}
                  message: {type: string, examples: ['successful']}
                  data: 
                    type: array
                    items:
                       allOf:
                          - type: object
                            required:
                              - id
                              - body
                            properties:
                              id: {type: string, examples: ['6585xe74seq454ax26975']}
                              body: {type: string, format: text, examples: ['Excellent remark']}
                              links:
                                type: string
                                format: url
                                examples:
                                  - /comments/1
                          - $ref : '#/components/schemas/Timestamp' 
                  pagination:
                    $ref: '#/components/schemas/pagination'
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        format: url
                        examples: 
                          - "/comments?page=2&limit=10"
                      next:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=3&limit=10"
                      prev:
                       type: string
                       format: url
                       examples:
                         - "/comments?page=1&limit=10"
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'

components:
  securitySchemes:
    bearerauth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    UserSignup:
      type: object
      required:
      - name
      - username
      - email
      - password
      properties:
        name:
          type: string
          examples:
          - kamal khan chowdhury
        username:
          type: string
          examples:
          - KamalUnreal23
        email:
          type: string
          format: email
          examples:
          - info123@kamal.com
        password:
          type: string
          format: password
          examples:
          - efeT23!kj)
    Timestamp:
      type: object
      properties:
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    pagination:
      type: object
      required:
      - page
      - limit
      - next
      - prev
      - totalPage
      - totalItems
      properties:
        page:
          type: integer
          format: int32
          examples:
          - 2
        limit:
          type: integer
          format: int32
          examples:
          - 10
        next:
          type: integer
          format: int32
          examples:
          - 3
        prev:
          type: integer
          format: int32
          examples:
          - 1
        totalPage:
          type: integer
          format: int32
          examples:
          - 5
        totalItems:
          type: integer
          format: int32
          examples:
          - 50
    ArticleSchema:
      type: object
      required:
      - title
      - body
      properties:
        title:
          type: string
          examples:
          - how to start passive income
        body:
          type: string
          format: text
          examples:
          - this is the body of article
        cover:
          type: string
          format: url
          examples:
          - https://s3.aws.com/myblogapi/cover/artcle1.png
        status:
          type: string
          enum:
          - draft
          - published
          default: draft
    CommentSchema:
        type: object
        required:
        - body
        properties:
          article:
            type: string
            examples:
            - '6585xe74seq454ax26975'
          author:
            type: string
            examples:
            - '6585xe74seq454ax26975'
          body:
            type: string
            format: text
            examples:
            - this is the body of comments
          status:
            type: string
            enum:
            - public
            - private
            default: public
  
    AuthorDTO:
      type: object
      required:
      - id
      - name
      properties:
        id:
          type: string
          examples:
          - '6585xe74seq454ax26975'
        name:
          type: string
          examples:
          - Raybrin Max
  responses:
    "400":
      description: Bad request
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: integer
                format: int32
                examples:
                - 400
              error:
                type: string
                examples:
                - Bad request
              data:
                type: array
                items:
                  type: object
                  properties:
                    field:
                      type: string
                      examples:
                      - email
                    message:
                      type: string
                      examples:
                      - invalid email
    "401":
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: integer
                format: int32
                examples:
                - 401
              error:
                type: string
                examples:
                - Unauthorized request
              message:
                type: string
                examples:
                - You don't have the permission
    "404":
      description: Resource Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: integer
                format: int32
                examples:
                - 404
              error:
                type: string
                examples:
                - Not Found
              message:
                type: string
                examples:
                - Request resource not found
    "500":
      description: Internal Server Error
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: integer
                format: int32
                examples:
                - 500
              error:
                type: string
                examples:
                - Internal Server Error
              message:
                type: string
                examples:
                - We are sorry for the inconvenience. Please try again
  parameters:
    pageParam:
      name: page
      in: query
      description: current page number
      schema:
        type: integer
        format: int32
        default: 1
    limitParam:
      name: limit
      in: query
      description: page limits
      schema:
        type: integer
        format: int32
        default: 10
    sort_typeParam:
      name: sort_type
      in: query
      schema:
        type: string
        enum:
        - asc
        - dsc
        default: dsc
    sort_byParam:
      name: sort_by
      in: query
      description: ""
      schema:
        type: string
        enum:
        - updatedAt
        - title
        default: updatedAt
    searchTermParam:
      name: search
      in: query
      schema:
        type: string
        examples: ["term"]
    idPathParam:
      name: id
      required: true
      in: path
      description: Id
      schema:
        type: string
        examples:
        - 125455
    
      
      
